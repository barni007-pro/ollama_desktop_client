{
  "tools_use": false,
  "tools_system_prompt": "Nutze das Tool `get_weather` oder 'get_forecast' um die Daten abzurufen und gib nur das Tool-Call JSON zurück.\r\nDu darfst die Wetterdaten nicht schätzen.\r\nWenn du das Tool get_weather für die aktuelle Wetterlage verwendest, nutze immer folgendes Format:\r\n{\r\n  \"name\": \"get_weather\",\r\n  \"arguments\": {\r\n    \"city\": \"<Name der Stadt>\"\r\n  }\r\n}\r\nWenn du das Tool get_forecast für eine Wettervorhersage verwendest, nutze immer folgendes Format:\r\n{\r\n  \"name\": \"get_forecast\",\r\n  \"arguments\": {\r\n    \"city\": \"<Name der Stadt>\"\r\n  }\r\n}\r\n",
  "tools_json": "[\r\n  {\r\n    \"type\": \"function\",\r\n    \"function\": {\r\n      \"name\": \"get_weather\",\r\n      \"description\": \"Gibt das aktuelle Wetter für eine angegebene Stadt zurück.\",\r\n      \"parameters\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"city\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Der Name der Stadt, für die das Wetter abgefragt werden soll.\"\r\n          }\r\n        },\r\n        \"required\": [\"city\"]\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"function\",\r\n    \"function\": {\r\n      \"name\": \"get_forecast\",\r\n      \"description\": \"Gibt die Wettervorhersage für die nächsten 5 Tage in 3-Stunden-Schritten für eine angegebene Stadt zurück.\",\r\n      \"parameters\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"city\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Der Name der Stadt, für die die Wettervorhersage abgefragt werden soll.\"\r\n          }\r\n        },\r\n        \"required\": [\"city\"]\r\n      }\r\n    }\r\n  }\r\n]",
  "tools_python_code": "import sys\r\nimport json\r\nimport requests\r\n\r\nAPI_KEY = \"ac85d9cdcaef65f8c3130a7d5d5a0fde\"\r\n\r\nUSE_PROXY = False  # ← Diese Variable steuert die Proxy-Nutzung\r\n\r\nPROXIES = {\r\n    \"http\": \"http://barnstorfr:MonalisaLinux!234@ndrprx01.ndr-net.de:8080\",\r\n    \"https\": \"http://barnstorfr:MonalisaLinux!234@ndrprx01.ndr-net.de:8080\"\r\n} if USE_PROXY else None\r\n\r\ndef get_weather(city):\r\n    url = \"https://api.openweathermap.org/data/2.5/weather\"\r\n    params = {\"q\": city, \"appid\": API_KEY, \"units\": \"metric\", \"lang\": \"de\"}\r\n    response = requests.get(url, params=params, proxies=PROXIES)\r\n    return response.json()\r\n\r\ndef get_forecast(city):\r\n    url = \"https://api.openweathermap.org/data/2.5/forecast\"\r\n    params = {\"q\": city, \"appid\": API_KEY, \"units\": \"metric\", \"lang\": \"de\"}\r\n    response = requests.get(url, params=params, proxies=PROXIES)\r\n    return response.json()\r\n\r\n# Kommandozeilenargument verarbeiten\r\nif len(sys.argv) != 2:\r\n    print(\"Bitte ein JSON-Argument übergeben.\")\r\n    sys.exit(1)\r\n\r\ntry:\r\n    json_input = json.loads(sys.argv[1])\r\n    name = json_input.get(\"name\")\r\n    city = json_input.get(\"arguments\", {}).get(\"city\")\r\n\r\n    if not city:\r\n        print(\"Stadtname fehlt im Argument.\")\r\n        sys.exit(1)\r\n\r\n    if name == \"get_weather\":\r\n        result = get_weather(city)\r\n    elif name == \"get_forecast\":\r\n        result = get_forecast(city)\r\n    else:\r\n        print(\"Ungültiger Funktionsname. Verwende 'get_weather' oder 'get_forecast'.\")\r\n        sys.exit(1)\r\n\r\n    print(json.dumps(result, indent=2, ensure_ascii=False))\r\n\r\nexcept Exception as e:\r\n    print(f\"Fehler beim Verarbeiten des JSON: {e}\")",
  "tools_extract_prompt": "Verwende folgende JSON um die Frage zu beantworten:\\n```json\\n{TOOLS_RESPONSE}'''"
}