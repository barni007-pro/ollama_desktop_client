{
  "tools_use": false,
  "tools_system_prompt": "Du bist ein Wetter-Assistent. Deine Aufgabe ist es, Wetteranfragen zu analysieren und das passende Tool aufzurufen.\r\n\r\nWICHTIGE REGELN:\r\n- Verwende 'get_weather' für aktuelle Wetterbedingungen\r\n- Verwende 'get_forecast' für Vorhersagen oder zukünftige Zeitpunkte\r\n- Schätze niemals Wetterdaten - rufe immer ein Tool auf\r\n- Bei mehrdeutigen Anfragen wähle das wahrscheinlichste Tool\r\n- Verwende den Stadtnamen in der Originalsprache oder auf Englisch\r\n\r\nBEISPIELE:\r\n- \"Wie ist das Wetter in Berlin?\" → get_weather mit city: \"Berlin\"\r\n- \"Wird es morgen regnen?\" → get_forecast (zukünftiger Zeitpunkt)\r\n- \"Wettervorhersage für München\" → get_forecast\r\n\r\nAntworte NUR mit einem JSON-Objekt in diesem Format:\n\r\n{\"name\":\"get_weather\",\"arguments\":{\"city\":\"<Name der Stadt>\"}}\r\n\noder\r\n\n{\"name\":\"get_forecast\",\"arguments\":{\"city\":\"<Name der Stadt>\"}}",
  "tools_json": "[\r\n  {\r\n    \"type\": \"function\",\r\n    \"function\": {\r\n      \"name\": \"get_weather\",\r\n      \"description\": \"Ruft aktuelle Wetterdaten (Temperatur, Bedingungen, Luftfeuchtigkeit, Windgeschwindigkeit) für eine angegebene Stadt ab.\",\r\n      \"parameters\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"city\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Der Name der Stadt, für die das aktuelle Wetter abgefragt werden soll (z.B. 'Berlin', 'München', 'London')\"\r\n          }\r\n        },\r\n        \"required\": [\"city\"],\r\n        \"additionalProperties\": false\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"type\": \"function\",\r\n    \"function\": {\r\n      \"name\": \"get_forecast\",\r\n      \"description\": \"Ruft die Wettervorhersage für die nächsten 5 Tage in 3-Stunden-Schritten für eine angegebene Stadt ab. Verwende diese Funktion für zukünftige Wetteranfragen.\",\r\n      \"parameters\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"city\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Der Name der Stadt, für die die Wettervorhersage abgefragt werden soll (z.B. 'Berlin', 'München', 'London')\"\r\n          }\r\n        },\r\n        \"required\": [\"city\"],\r\n        \"additionalProperties\": false\r\n      }\r\n    }\r\n  }\r\n]",
  "tools_python_code": "import sys\r\nimport json\r\nimport requests\r\n\r\nAPI_KEY = \"ac85d9cdcaef65f8c3130a7d5d5a0fde\"\r\n\r\nUSE_PROXY = True  # ← Diese Variable steuert die Proxy-Nutzung\r\n\r\nPROXIES = {\r\n    \"http\": \"http://barnstorfr:MonalisaLinux!234@ndrprx01.ndr-net.de:8080\",\r\n    \"https\": \"http://barnstorfr:MonalisaLinux!234@ndrprx01.ndr-net.de:8080\"\r\n} if USE_PROXY else None\r\n\r\ndef get_weather(city):\r\n    url = \"https://api.openweathermap.org/data/2.5/weather\"\r\n    params = {\"q\": city, \"appid\": API_KEY, \"units\": \"metric\", \"lang\": \"de\"}\r\n    response = requests.get(url, params=params, proxies=PROXIES)\r\n    return response.json()\r\n\r\ndef get_forecast(city):\r\n    url = \"https://api.openweathermap.org/data/2.5/forecast\"\r\n    params = {\"q\": city, \"appid\": API_KEY, \"units\": \"metric\", \"lang\": \"de\"}\r\n    response = requests.get(url, params=params, proxies=PROXIES)\r\n    return response.json()\r\n\r\n# Kommandozeilenargument verarbeiten\r\nif len(sys.argv) != 2:\r\n    print(\"Bitte ein JSON-Argument übergeben.\")\r\n    sys.exit(1)\r\n\r\ntry:\r\n    json_input = json.loads(sys.argv[1])\r\n    name = json_input.get(\"name\")\r\n    city = json_input.get(\"arguments\", {}).get(\"city\")\r\n\r\n    if not city:\r\n        print(\"Stadtname fehlt im Argument.\")\r\n        sys.exit(1)\r\n\r\n    if name == \"get_weather\":\r\n        result = get_weather(city)\r\n    elif name == \"get_forecast\":\r\n        result = get_forecast(city)\r\n    else:\r\n        print(\"Ungültiger Funktionsname. Verwende 'get_weather' oder 'get_forecast'.\")\r\n        sys.exit(1)\r\n\r\n    print(json.dumps(result, indent=2, ensure_ascii=False))\r\n\r\nexcept Exception as e:\r\n    print(f\"Fehler beim Verarbeiten des JSON: {e}\")"
}